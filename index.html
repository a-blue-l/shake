<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>摇一摇</title>
</head>
<body>
	
</body>
<script>
	console.log(window.DeviceMotionEvent)
	if (window.DeviceMotionEvent) {
	    //获取移动速度，得到device移动时相对之前某个时间的差值比
	    window.addEventListener('devicemotion', deviceMotionHandler, false);
	}else{
	    alert('您好，你目前所用的设备好像不支持重力感应哦！');
	}
	var speed = 30;//speed
    var x = y = z = lastX = lastY = lastZ = 0;
    function deviceMotionHandler(eventData) {  
		var acceleration =eventData.accelerationIncludingGravity;
		console.log(acceleration);
		x = acceleration.x;
		y = acceleration.y;
		z = acceleration.z;
		if(Math.abs(x-lastX) > speed || Math.abs(y-lastY) > speed || Math.abs(z-lastZ) > speed) {
			//简单的摇一摇触发代码
			alert(1);
		}
		lastX = x;
		lastY = y;
		lastZ = z;
    }
</script>
</html>